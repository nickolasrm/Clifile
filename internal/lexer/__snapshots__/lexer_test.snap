
[Lexer when a comment is passed should return a comment token - 1]
[]*lexer.Match{
    &lexer.Match{
        Type:  0x3,
        Value: {"# This is a comment", " This is a comment"},
    },
}
---

[Lexer when a comment is passed when # is present should return a single comment token - 1]
[]*lexer.Match{
    &lexer.Match{
        Type:  0x3,
        Value: {"# This is a #comment", " This is a #comment"},
    },
}
---

[Lexer when a comment is passed when another comment is passed should return two comment tokens - 1]
[]*lexer.Match{
    &lexer.Match{
        Type:  0x3,
        Value: {"# C1", " C1"},
    },
    &lexer.Match{
        Type:  0x0,
        Value: {"\n"},
    },
    &lexer.Match{
        Type:  0x3,
        Value: {"# C2", " C2"},
    },
}
---

[Lexer when a docstring is passed should return a docstring token - 1]
[]*lexer.Match{
    &lexer.Match{
        Type:  0x2,
        Value: {"## This is a docstring", " This is a docstring"},
    },
}
---

[Lexer when a docstring is passed when ## is present should return a single docstring token - 1]
[]*lexer.Match{
    &lexer.Match{
        Type:  0x2,
        Value: {"## This is a ##docstring", " This is a ##docstring"},
    },
}
---

[Lexer when a docstring is passed when another docstring is passed should return two docstring tokens - 1]
[]*lexer.Match{
    &lexer.Match{
        Type:  0x2,
        Value: {"## D1", " D1"},
    },
    &lexer.Match{
        Type:  0x0,
        Value: {"\n"},
    },
    &lexer.Match{
        Type:  0x2,
        Value: {"## D2", " D2"},
    },
}
---

[Lexer when a variable is passed when unquoted value is passed should return a variable token - 1]
[]*lexer.Match{
    &lexer.Match{
        Type:  0x5,
        Value: {"VAR=val", "VAR", "", "val"},
    },
}
---

[Lexer when a variable is passed when unquoted value is passed when multiple lines are passed should return only the variable line - 1]
[]*lexer.Match{
    &lexer.Match{
        Type:  0x5,
        Value: {"VAR=val", "VAR", "", "val"},
    },
    &lexer.Match{
        Type:  0x0,
        Value: {"\n"},
    },
    &lexer.Match{
        Type:  0x3,
        Value: {"#comment", "comment"},
    },
}
---

[Lexer when a variable is passed when quoted value is passed should return a variable token - 1]
[]*lexer.Match{
    &lexer.Match{
        Type:  0x5,
        Value: {"VAR=\"val\"", "VAR", "val", ""},
    },
}
---

[Lexer when a variable is passed when quoted value is passed when multiple lines are between quotes should return a variable token - 1]
[]*lexer.Match{
    &lexer.Match{
        Type:  0x5,
        Value: {"VAR=\"val\nval\"", "VAR", "val\nval", ""},
    },
}
---

[Lexer when a call is passed should return a call token - 1]
[]*lexer.Match{
    &lexer.Match{
        Type:  0x4,
        Value: {"VAR=${func}", "VAR", "func", ""},
    },
}
---

[Lexer when a call is passed when multiple lines are between curly braces should return a call token - 1]
[]*lexer.Match{
    &lexer.Match{
        Type:  0x4,
        Value: {"VAR=${func\nfunc}", "VAR", "func", "func"},
    },
}
---

[Lexer when a rule is passed should return a rule token - 1]
[]*lexer.Match{
    &lexer.Match{
        Type:  0x6,
        Value: {"rule:", "rule", ""},
    },
}
---

[Lexer when a rule is passed when arguments are passed should return a rule token - 1]
[]*lexer.Match{
    &lexer.Match{
        Type:  0x6,
        Value: {"rule: arg1 arg2", "rule", " arg1 arg2"},
    },
}
---

[Lexer when a rule is passed when another rule is passed should return two rule tokens - 1]
[]*lexer.Match{
    &lexer.Match{
        Type:  0x6,
        Value: {"rule1: a b", "rule1", " a b"},
    },
    &lexer.Match{
        Type:  0x0,
        Value: {"\n"},
    },
    &lexer.Match{
        Type:  0x6,
        Value: {"rule2: c d", "rule2", " c d"},
    },
}
---

[Lexer when a rule is passed when another rule is passed when the second rule is nested should return two rule tokens - 1]
[]*lexer.Match{
    &lexer.Match{
        Type:  0x6,
        Value: {"rule1: a", "rule1", " a"},
    },
    &lexer.Match{
        Type:  0x0,
        Value: {"\n"},
    },
    &lexer.Match{
        Type:  0x1,
        Value: {"\t"},
    },
    &lexer.Match{
        Type:  0x6,
        Value: {"rule2:", "rule2", ""},
    },
}
---

[Lexer when an action is passed should return an action token - 1]
[]*lexer.Match{
    &lexer.Match{
        Type:  0x7,
        Value: {"echo \"Hello World\"", "echo \"Hello World\""},
    },
}
---

[Lexer when an action is passed when multiple lines are passed should return multiple action tokens - 1]
[]*lexer.Match{
    &lexer.Match{
        Type:  0x7,
        Value: {"echo \"Hello World\"", "echo \"Hello World\""},
    },
    &lexer.Match{
        Type:  0x0,
        Value: {"\n"},
    },
    &lexer.Match{
        Type:  0x7,
        Value: {"echo \"Hello World\"", "echo \"Hello World\""},
    },
}
---

[Lexer when a code snippet is passed should return a sequence of tokens - 1]
[]*lexer.Match{
    &lexer.Match{
        Type:  0x0,
        Value: {"\n"},
    },
    &lexer.Match{
        Type:  0x3,
        Value: {"# This is a comment", " This is a comment"},
    },
    &lexer.Match{
        Type:  0x0,
        Value: {"\n"},
    },
    &lexer.Match{
        Type:  0x5,
        Value: {"VAR=val", "VAR", "", "val"},
    },
    &lexer.Match{
        Type:  0x0,
        Value: {"\n"},
    },
    &lexer.Match{
        Type:  0x5,
        Value: {"VAR2=\"val\"", "VAR2", "val", ""},
    },
    &lexer.Match{
        Type:  0x0,
        Value: {"\n"},
    },
    &lexer.Match{
        Type:  0x4,
        Value: {"VAR3=${func}", "VAR3", "func", ""},
    },
    &lexer.Match{
        Type:  0x0,
        Value: {"\n"},
    },
    &lexer.Match{
        Type:  0x4,
        Value: {"VAR4=${func\nfunc}", "VAR4", "func", "func"},
    },
    &lexer.Match{
        Type:  0x0,
        Value: {"\n"},
    },
    &lexer.Match{
        Type:  0x6,
        Value: {"rule1: a b", "rule1", " a b"},
    },
    &lexer.Match{
        Type:  0x0,
        Value: {"\n"},
    },
    &lexer.Match{
        Type:  0x1,
        Value: {"\t"},
    },
    &lexer.Match{
        Type:  0x6,
        Value: {"rule4:", "rule4", ""},
    },
    &lexer.Match{
        Type:  0x0,
        Value: {"\n"},
    },
    &lexer.Match{
        Type:  0x1,
        Value: {"\t\t"},
    },
    &lexer.Match{
        Type:  0x7,
        Value: {"echo \"Hello World\"", "echo \"Hello World\""},
    },
    &lexer.Match{
        Type:  0x0,
        Value: {"\n"},
    },
    &lexer.Match{
        Type:  0x6,
        Value: {"rule2: c d", "rule2", " c d"},
    },
    &lexer.Match{
        Type:  0x0,
        Value: {"\n"},
    },
    &lexer.Match{
        Type:  0x2,
        Value: {"## This is a docstring", " This is a docstring"},
    },
    &lexer.Match{
        Type:  0x0,
        Value: {"\n"},
    },
    &lexer.Match{
        Type:  0x6,
        Value: {"rule3:", "rule3", ""},
    },
    &lexer.Match{
        Type:  0x0,
        Value: {"\n"},
    },
    &lexer.Match{
        Type:  0x1,
        Value: {"\t"},
    },
    &lexer.Match{
        Type:  0x7,
        Value: {"echo \"Hello World\"", "echo \"Hello World\""},
    },
    &lexer.Match{
        Type:  0x0,
        Value: {"\n"},
    },
    &lexer.Match{
        Type:  0x1,
        Value: {"\t"},
    },
    &lexer.Match{
        Type:  0x7,
        Value: {"echo \"Hello World\"", "echo \"Hello World\""},
    },
    &lexer.Match{
        Type:  0x0,
        Value: {"\n"},
    },
}
---
